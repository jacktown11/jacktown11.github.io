I"?ù<p>æŒ‰ï¼šåœ¨<a href="https://jacktown11.github.io/practice/">æˆ‘çš„ç»ƒä¹ </a>ä¸­å¯ä»¥æ‰¾åˆ°æœ¬æ–‡ä¸­çš„<code class="highlighter-rouge">html5</code>æ–°ç‰¹æ€§ç›¸å…³demoã€‚</p>

<h1 id="é›¶html5-æ–°ç‰¹æ€§æ€»è§ˆ10ä¸ª">é›¶ã€HTML5 æ–°ç‰¹æ€§æ€»è§ˆï¼ˆ10ä¸ªï¼‰</h1>

<ul>
  <li>æ–°çš„è¯­ä¹‰æ ‡ç­¾å’Œå±æ€§</li>
  <li>è¡¨å•æ–°ç‰¹æ€§ï¼ˆè¡¨å•2.0ï¼‰</li>
  <li>è§†é¢‘å’ŒéŸ³é¢‘</li>
  <li>Canvasç»˜å›¾</li>
  <li>SVGç»˜å›¾</li>
  <li>åœ°ç†å®šä½</li>
  <li>æ‹–æ”¾API</li>
  <li>WebWorker</li>
  <li>WebStorage</li>
  <li>WebSocket</li>
</ul>

<h1 id="ä¸€æ–°çš„è¯­ä¹‰æ ‡ç­¾å’Œå±æ€§">ä¸€ã€æ–°çš„è¯­ä¹‰æ ‡ç­¾å’Œå±æ€§</h1>

<h1 id="äºŒhtml5å¢å¼ºå‹è¡¨å•">äºŒã€HTML5å¢å¼ºå‹è¡¨å•</h1>

<ul>
  <li><code class="highlighter-rouge">input</code>æ ‡ç­¾çš„æ–°<code class="highlighter-rouge">type</code>å±æ€§</li>
  <li>æ–°çš„è¡¨å•æ ‡ç­¾</li>
  <li>è¡¨å•æ ‡ç­¾çš„æ–°å±æ€§</li>
</ul>

<h2 id="1-inputæ ‡ç­¾çš„æ–°typeå±æ€§">1. inputæ ‡ç­¾çš„æ–°typeå±æ€§</h2>

<h3 id="h4ä¸­çš„typeå±æ€§">h4ä¸­çš„typeå±æ€§</h3>

<ul>
  <li><code class="highlighter-rouge">text</code></li>
  <li><code class="highlighter-rouge">password</code></li>
  <li><code class="highlighter-rouge">radio</code></li>
  <li><code class="highlighter-rouge">checkbox</code></li>
  <li><code class="highlighter-rouge">file</code></li>
  <li><code class="highlighter-rouge">submit</code></li>
  <li><code class="highlighter-rouge">reset</code></li>
  <li><code class="highlighter-rouge">button</code></li>
  <li><code class="highlighter-rouge">image</code></li>
  <li><code class="highlighter-rouge">hidden</code></li>
</ul>

<h3 id="h5ä¸­æ–°typeå±æ€§">h5ä¸­æ–°typeå±æ€§</h3>

<ul>
  <li><code class="highlighter-rouge">email</code>ï¼šé‚®ä»¶è¾“å…¥åŸŸï¼Œåœ¨è¡¨å•æäº¤æ—¶æä¾›ç®€å•çš„é‚®ç®±æ ¼å¼éªŒè¯ï¼Œå¹¶å¼¹å‡ºä¸€ä¸ªæç¤ºçª—å£(å¯å®šåˆ¶å†…å®¹ä¸èƒ½å®šåˆ¶æ ·å¼)ã€‚<code class="highlighter-rouge">&lt;input type="email"&gt;</code></li>
  <li><code class="highlighter-rouge">url</code>ï¼šURLåœ°å€è¾“å…¥åŸŸï¼Œåœ¨è¡¨å•æäº¤æ—¶æä¾›ç®€å•çš„URLåœ°å€æ ¼å¼éªŒè¯ï¼Œå¹¶å¼¹å‡ºä¸€ä¸ªæç¤ºçª—å£(å¯å®šåˆ¶å†…å®¹ä¸èƒ½å®šåˆ¶æ ·å¼)ã€‚<code class="highlighter-rouge">&lt;input type="url"&gt;</code></li>
  <li><code class="highlighter-rouge">number</code>ï¼šæ•°å­—è¾“å…¥åŸŸï¼Œåœ¨è¡¨å•æäº¤æ—¶æä¾›ç®€å•çš„æ•°å­—æ ¼å¼éªŒè¯ï¼Œå¹¶å¼¹å‡ºä¸€ä¸ªæç¤ºçª—å£(å¯å®šåˆ¶å†…å®¹ä¸èƒ½å®šåˆ¶æ ·å¼)ã€‚<code class="highlighter-rouge">&lt;input type="number" min="" max="" step=""&gt;</code></li>
  <li><code class="highlighter-rouge">tel</code>ï¼šç”µè¯å·ç è¾“å…¥åŸŸï¼Œåœ¨æ‰‹æœºæµè§ˆå™¨ä¸­å¼¹å‡ºæ•°å­—è¾“å…¥é”®ç›˜ã€‚<code class="highlighter-rouge">&lt;input type="tel"&gt;</code></li>
  <li><code class="highlighter-rouge">search</code>ï¼šæœç´¢è¾“å…¥åŸŸï¼Œåœ¨æ‰‹æœºæµè§ˆå™¨ä¸­å³ä¸‹è§’å‘ˆç°æœç´¢æŒ‰é”®ã€‚<code class="highlighter-rouge">&lt;input type="search"&gt;</code></li>
  <li><code class="highlighter-rouge">range</code>ï¼šèŒƒå›´é€‰æ‹©æ§ä»¶ï¼Œå¸®åŠ©ç”¨æˆ·åœ¨ä¸€å®šèŒƒå›´å†…é€‰æ‹©ä¸€ä¸ªæ•°å­—ã€‚<code class="highlighter-rouge">&lt;input type="range" min="" max="" step=""&gt;</code></li>
  <li><code class="highlighter-rouge">color</code>ï¼šé¢œè‰²é€‰æ‹©æ§ä»¶ï¼Œæµè§ˆå™¨å¹¶æœªè‡ªå·±å®ç°é¢œè‰²é€‰æ‹©æ¡†ï¼Œè€Œæ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„é¢œè‰²é€‰æ‹©æ§ä»¶ã€‚<code class="highlighter-rouge">&lt;input type="color"&gt;</code></li>
  <li><code class="highlighter-rouge">date</code>ï¼šæ—¥æœŸé€‰æ‹©æ§ä»¶ï¼Œ<code class="highlighter-rouge">FF</code>æ²¡æœ‰å®ç°ï¼Œæ¨èä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶ä»£æ›¿ï¼Œå¦‚<code class="highlighter-rouge">jQueryUI-datepicker</code>ã€<code class="highlighter-rouge">laydate</code>ç­‰ã€‚<code class="highlighter-rouge">&lt;input type="date"&gt;</code></li>
  <li><code class="highlighter-rouge">month</code>ï¼šæœˆä»½é€‰æ‹©æ§ä»¶ï¼ŒFFæ²¡æœ‰å®ç°ã€‚<code class="highlighter-rouge">&lt;input type="month"&gt;</code></li>
  <li><code class="highlighter-rouge">week</code>ï¼šæ˜ŸæœŸé€‰æ‹©æ§ä»¶ï¼ŒFFæ²¡æœ‰å®ç°ã€‚<code class="highlighter-rouge">&lt;input type="week"&gt;</code></li>
</ul>

<h2 id="2-æ–°çš„è¡¨å•æ ‡ç­¾">2. æ–°çš„è¡¨å•æ ‡ç­¾</h2>
<ul>
  <li>h4: input, button, select/option, textarea, label</li>
  <li>h5: datalist, progress, meter, output</li>
</ul>

<h3 id="datalist">datalist</h3>

<p>æœ¬èº«ä¸å¯è§ï¼Œå®ƒä¸º<code class="highlighter-rouge">input</code>æä¾›è¾“å…¥åˆ—è¡¨ï¼Œç”¨æˆ·å¯ä»¥ä»ä¸­é€‰å–ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨è¾“å…¥ã€‚</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;datalist</span> <span class="na">id=</span><span class="s">"listA"</span><span class="nt">&gt;</span> 
    <span class="nt">&lt;option&gt;</span>xx<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option&gt;</span>yy<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;option&gt;</span>zz<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/datalist&gt;</span>
listA: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">list=</span><span class="s">"listA"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<h3 id="progress">progress</h3>

<p>è¿›åº¦æ¡ï¼Œæœ‰ä¸¤ç§æ˜¾ç¤ºå½¢å¼</p>

<ol>
  <li>å·¦å³æ™ƒåŠ¨çš„è¿›åº¦æ¡</li>
  <li>å…·æœ‰ä¸€å®šè¿›åº¦å€¼ï¼ˆ0-1ï¼‰çš„è¿›åº¦æ¡</li>
</ol>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- å·¦å³æ‘‡æ™ƒçš„è¿›åº¦æ¡ --&gt;</span>
è¿›åº¦æ¡1ï¼š<span class="nt">&lt;progress&gt;&lt;/progress&gt;&lt;br&gt;</span>
<span class="c">&lt;!-- å…·æœ‰è¿›åº¦å€¼çš„è¿›åº¦æ¡ --&gt;</span>
è¿›åº¦æ¡2ï¼š<span class="nt">&lt;progress</span> <span class="na">value=</span><span class="s">"0"</span> <span class="na">id=</span><span class="s">"progress"</span><span class="nt">&gt;&lt;/progress&gt;&lt;br&gt;</span>
</code></pre></div></div>

<h3 id="meter">meter</h3>

<p>åˆ»åº¦å°ºï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªå€¼æ‰€å¤„èŒƒå›´ï¼šä¸å¯æ¥å—ï¼ˆçº¢è‰²ï¼‰ï¼Œå¯ä»¥æ¥å—ï¼ˆé»„è‰²ï¼‰ï¼Œéå¸¸ä¼˜ç§€ï¼ˆç»¿è‰²ï¼‰</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>åˆ»åº¦ï¼š<span class="nt">&lt;meter</span> <span class="na">min=</span><span class="s">"0"</span> <span class="na">max=</span><span class="s">"100"</span> <span class="na">low=</span><span class="s">"60"</span> <span class="na">high=</span><span class="s">"85"</span> <span class="na">optimum=</span><span class="s">"100"</span> <span class="na">value=</span><span class="s">"0"</span> <span class="na">id=</span><span class="s">"meter"</span><span class="nt">&gt;&lt;/meter&gt;</span>
</code></pre></div></div>

<h3 id="output">output</h3>

<p>è¾“å‡ºï¼Œè¯­ä¹‰æ ‡ç­¾ï¼Œæ²¡æœ‰ä»»ä½•æ ·å¼ï¼Œæ ·å¼ç­‰åŒäº<code class="highlighter-rouge">span</code>ã€‚ï¼ˆä¸‹é¢çš„ä¾‹å­ä¸­è¡¨ç¤ºè¯­ä¹‰ï¼Œå¹¶ä¸è‡ªåŠ¨è®¡ç®—ï¼Œä¹Ÿæ²¡æœ‰æ ·å¼ï¼‰</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>å•†å“ä»·æ ¼ï¼š3.5
è´­ä¹°æ•°é‡ï¼š<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">value=</span><span class="s">"3"</span><span class="nt">&gt;</span>
å°è®¡ï¼š<span class="nt">&lt;output&gt;</span>10.5<span class="nt">&lt;/output&gt;</span>
</code></pre></div></div>

<h2 id="3-è¡¨å•æ ‡ç­¾çš„æ–°å±æ€§">3. è¡¨å•æ ‡ç­¾çš„æ–°å±æ€§</h2>

<ul>
  <li><code class="highlighter-rouge">placeholder</code>: å ä½ç¬¦</li>
  <li><code class="highlighter-rouge">autofocus</code>: è‡ªåŠ¨è·å–è¾“å…¥ç„¦ç‚¹</li>
  <li><code class="highlighter-rouge">multiple</code>: å…è®¸è¾“å…¥æ¡†ä¸­å‡ºç°å¤šä¸ªå€¼</li>
  <li><code class="highlighter-rouge">form</code>: ç”¨äºæŠŠè¾“å…¥åŸŸæ”¾ç½®åœ¨<code class="highlighter-rouge">form</code>å¤–éƒ¨ï¼Œå…¶å€¼ä¸ºç»‘å®šåˆ°çš„<code class="highlighter-rouge">form</code>å…ƒç´ çš„<code class="highlighter-rouge">id</code></li>
</ul>

<p>éªŒè¯ç›¸å…³</p>

<ul>
  <li><code class="highlighter-rouge">required</code>: å¿…å¡«é¡¹ï¼Œå†…å®¹ä¸èƒ½ä¸ºç©º</li>
  <li><code class="highlighter-rouge">maxlength</code>: å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦</li>
  <li><code class="highlighter-rouge">minlength</code>: å­—ç¬¦ä¸²æœ€å°é•¿åº¦</li>
  <li><code class="highlighter-rouge">max</code>: æŒ‡å®šæ•°å­—çš„æœ€å¤§å€¼</li>
  <li><code class="highlighter-rouge">min</code>: æŒ‡å®šæ•°å­—çš„æœ€å°å€¼</li>
  <li><code class="highlighter-rouge">pattern</code>: æ­£åˆ™è¡¨è¾¾å¼</li>
</ul>

<h1 id="ä¸‰è§†é¢‘å’ŒéŸ³é¢‘">ä¸‰ã€è§†é¢‘å’ŒéŸ³é¢‘</h1>

<h2 id="1-flashè¢«h5å–ä»£å„æ–¹é¢">1. Flashè¢«H5å–ä»£å„æ–¹é¢</h2>

<table>
  <thead>
    <tr>
      <th>FlashæŠ€æœ¯</th>
      <th>H5æŠ€æœ¯</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ç»˜å›¾ï¼ˆAS/Flexï¼‰</td>
      <td>Canvas/SVG</td>
    </tr>
    <tr>
      <td>åŠ¨ç”»</td>
      <td>Canvas+(å®šæ—¶å™¨ï¼Œæ›¿æ¢æ–°æŠ€æœ¯)</td>
    </tr>
    <tr>
      <td>è§†é¢‘å’ŒéŸ³é¢‘</td>
      <td>video+audio</td>
    </tr>
    <tr>
      <td>å®¢æˆ·ç«¯å­˜å‚¨</td>
      <td>WebStorage</td>
    </tr>
  </tbody>
</table>

<h2 id="2-h5è§†é¢‘">2. H5è§†é¢‘</h2>

<p>æä¾›æ–°çš„æ ‡ç­¾ç”¨äºæ’­æ”¾è§†é¢‘ï¼Œä½†æ˜¯è§†é¢‘æ ¼å¼å¾ˆå¤šï¼Œæµè§ˆå™¨ä¸ä¸€å®šéƒ½æœ‰å®ƒä»¬çš„è§£ç å™¨ï¼Œä¸ºæ­¤é€šå¸¸éœ€è¦æä¾›å¤šç§é€‰æ‹©ã€‚</p>

<p><code class="highlighter-rouge">video</code>æœ¬èº«æ˜¯ä¸€ä¸ª<code class="highlighter-rouge">300*150</code>çš„<code class="highlighter-rouge">inline-block</code>å…ƒç´ ã€‚</p>

<h3 id="htmlæˆå‘˜å±æ€§">htmlæˆå‘˜å±æ€§</h3>

<ul>
  <li><code class="highlighter-rouge">autoplay</code>: <code class="highlighter-rouge">false</code>, è‡ªåŠ¨æ’­æ”¾</li>
  <li><code class="highlighter-rouge">controls</code>: <code class="highlighter-rouge">false</code>, æ˜¯å¦æ˜¾ç¤ºæ’­æ”¾ç©ºé—´</li>
  <li><code class="highlighter-rouge">loop</code>: <code class="highlighter-rouge">false</code>, æ˜¯å¦å¾ªç¯æ’­æ”¾</li>
  <li><code class="highlighter-rouge">muted</code>: <code class="highlighter-rouge">false</code>, æ˜¯å¦é™éŸ³</li>
  <li><code class="highlighter-rouge">poster</code>: <code class="highlighter-rouge">""</code>, æ˜¯å¦åœ¨ç¬¬ä¸€å¸§ä¹‹å‰æ˜¾ç¤ºæµ·æŠ¥ï¼ˆå›¾ç‰‡ï¼‰</li>
  <li><code class="highlighter-rouge">preload</code>:, è§†é¢‘çš„é¢„åŠ è½½ç­–ç•¥ï¼Œæ¯”å¦‚æ‰‹æœºç«¯è€ƒè™‘åˆ°æµé‡é—®é¢˜ï¼Œé€šå¸¸ä¸èƒ½- <code class="highlighter-rouge">ä½¿ç”¨auto</code></li>
  <li><code class="highlighter-rouge">auto</code>: é¢„åŠ è½½è§†é¢‘çš„å…ƒæ•°æ®ï¼ˆæ—¶é•¿ã€åå­—ç­‰ï¼‰ä»¥åŠç¼“å†²ä¸€å®šæ—¶é•¿çš„è§†é¢‘</li>
  <li><code class="highlighter-rouge">metadate</code>: é¢„åŠ è½½è§†é¢‘çš„å…ƒæ•°æ®</li>
  <li><code class="highlighter-rouge">none</code>: ä¸é¢„åŠ è½½ä»»ä½•æ•°æ®</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;video</span> <span class="na">src=</span><span class="s">"static/aaa.mp4"</span> <span class="na">id=</span><span class="s">"v1"</span> <span class="na">controls</span> <span class="na">poster=</span><span class="s">"static/play.png"</span> <span class="na">preload=</span><span class="s">"metadate"</span><span class="nt">&gt;&lt;/video&gt;</span>

<span class="nt">&lt;video</span> <span class="na">id=</span><span class="s">"v2"</span><span class="nt">&gt;</span> 
    <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">"static/aaa.mp4"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">"static/aaa.ogg"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;source</span> <span class="na">src=</span><span class="s">"static/aaa.webm"</span><span class="nt">&gt;</span>
    æ‚¨çš„æµè§ˆå™¨ç‰ˆæœ¬å¤ªä½ï¼Œæ— æ³•æ’­æ”¾ï¼Œè¯·å‡çº§ã€‚
<span class="nt">&lt;/video&gt;</span>
</code></pre></div></div>

<h3 id="jså¯¹è±¡å±æ€§">jså¯¹è±¡å±æ€§</h3>

<p><code class="highlighter-rouge">currentTime</code>; å½“å‰æ’­æ”¾çš„æ—¶é•¿
<code class="highlighter-rouge">duration</code>: æ€»æ—¶é•¿
<code class="highlighter-rouge">paused</code>: <code class="highlighter-rouge">boolean</code>å€¼ï¼Œå½“å‰è§†é¢‘æ˜¯å¦å¤„äºæš‚åœçŠ¶æ€
<code class="highlighter-rouge">volume</code>: 1, å½“å‰éŸ³é‡
<code class="highlighter-rouge">playbackRate</code>: 1 æ’­æ”¾é€Ÿç‡ï¼Œå¤§äº1å¿«æ”¾ï¼Œå°äº1æ…¢æ”¾</p>

<h3 id="jsæˆå‘˜æ–¹æ³•">jsæˆå‘˜æ–¹æ³•</h3>

<ul>
  <li><code class="highlighter-rouge">play()</code> æ’­æ”¾è§†é¢‘</li>
  <li><code class="highlighter-rouge">pause()</code> æš‚åœæ’­æ”¾</li>
</ul>

<h3 id="jsæˆå‘˜äº‹ä»¶">jsæˆå‘˜äº‹ä»¶</h3>

<ul>
  <li><code class="highlighter-rouge">onplay</code>, å½“å‰è§†é¢‘å¼€å§‹æ’­æ”¾æ—¶è§¦å‘çš„äº‹ä»¶</li>
  <li><code class="highlighter-rouge">onpause</code>, å½“å‰è§†é¢‘æš‚åœæ’­æ”¾æ—¶è§¦å‘çš„äº‹ä»¶</li>
</ul>

<h2 id="3-h5éŸ³é¢‘">3. H5éŸ³é¢‘</h2>

<p><code class="highlighter-rouge">H5</code>æä¾›äº†ä¸€ä¸ª<code class="highlighter-rouge">audio</code>æ ‡ç­¾ç”¨äºæ’­æ”¾éŸ³é¢‘ï¼Œå…¶å±æ€§å’Œ<code class="highlighter-rouge">video</code>å‡ ä¹ä¸€æ ·ã€‚</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">"static/stayAlive.mp3"</span> <span class="na">controls</span> <span class="na">autoplay</span><span class="nt">&gt;&lt;/audio&gt;</span>
</code></pre></div></div>

<h1 id="å››canvas">å››ã€Canvas</h1>

<p>ç½‘é¡µä¸­å¯ç»˜åˆ¶å®æ—¶èµ°åŠ¿å›¾ã€ç»Ÿè®¡å›¾ã€åœ¨çº¿ç”»å›¾æ¿ã€ç½‘é¡µæ¸¸æˆã€åœ°å›¾åº”ç”¨ã€‚ç›®å‰æœ‰ä¸‰ç§ç»˜å›¾æŠ€æœ¯ã€‚</p>

<ul>
  <li><code class="highlighter-rouge">SVG</code>ç»˜å›¾ï¼Œ<code class="highlighter-rouge">2D</code>çŸ¢é‡å›¾æŠ€æœ¯ï¼Œ2000å°±å‡ºç°äº†ï¼Œç°å±äº<code class="highlighter-rouge">H5</code>æ ‡å‡†</li>
  <li><code class="highlighter-rouge">Canvas</code>ç»˜å›¾ï¼Œ<code class="highlighter-rouge">2D</code>ä½å›¾æŠ€æœ¯ï¼Œ<code class="highlighter-rouge">H5</code>æå‡ºçš„ç»˜å›¾æŠ€æœ¯</li>
  <li><code class="highlighter-rouge">WebGL</code>ç»˜å›¾ï¼Œ<code class="highlighter-rouge">3D</code>ç»˜å›¾ï¼Œå°šæœªçº³å…¥<code class="highlighter-rouge">H5</code>æ ‡å‡†</li>
</ul>

<p>Canvasçš„å­¦ä¹ éš¾ç‚¹ï¼šåæ ‡ç³»ã€å•è¯æ¯”è¾ƒå¤š</p>

<h2 id="1-canvasç”»å¸ƒ">1. Canvasç”»å¸ƒ</h2>

<p><code class="highlighter-rouge">Canvas</code>ç”»å¸ƒï¼Œæ˜¯<code class="highlighter-rouge">H5</code>æä¾›<code class="highlighter-rouge">2D</code>ç»˜å›¾æŠ€æœ¯ï¼Œå…¶é»˜è®¤æ˜¯<code class="highlighter-rouge">300*150</code>çš„<code class="highlighter-rouge">inline-block</code>ï¼Œç”»å¸ƒçš„å®½é«˜åªèƒ½ä½¿ç”¨<code class="highlighter-rouge">html/js</code>å±æ€§æ¥èµ‹å€¼ï¼Œä¸èƒ½ä½¿ç”¨<code class="highlighter-rouge">css</code>æ ·å¼æ¥èµ‹å€¼ï¼</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;canvas</span> <span class="na">width=</span><span class="s">"800"</span> <span class="na">height=</span><span class="s">"600"</span><span class="nt">&gt;</span>æ‚¨çš„æ¸¸è§ˆå™¨ç‰ˆæœ¬å¤ªä½ï¼Œè¯·å‡çº§ï¼<span class="nt">&lt;/canvas&gt;</span>
</code></pre></div></div>

<p>æ¯ä¸ªç”»å¸ƒä¸Šæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªâ€œç”»ç¬”â€å¯¹è±¡ï¼Œä½¿ç”¨å®ƒè¿›è¡Œç»˜å›¾ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="dl">'</span><span class="s1">2d</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p>åæ ‡ç³»ï¼šå·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼Œå‘å³ä¸º<code class="highlighter-rouge">x</code>è½´æ­£æ–¹å‘ï¼Œå‘ä¸‹ä¸º<code class="highlighter-rouge">y</code>è½´æ­£æ–¹å‘</p>

<h2 id="2-ç»˜åˆ¶çŸ©å½¢">2. ç»˜åˆ¶çŸ©å½¢</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// æè¾¹å®½åº¦ï¼ˆç©ºå¿ƒï¼‰</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#f00</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// æè¾¹æ ·å¼ï¼ˆç©ºå¿ƒï¼‰</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#000</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// å¡«å……æ ·å¼/æ ·è‰²ï¼ˆå®å¿ƒï¼‰</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">strokeRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span> <span class="c1">// æè¾¹ä¸€ä¸ªçŸ©å½¢(x,y,w,h)</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span> <span class="c1">// å¡«å……ä¸€ä¸ªçŸ©å½¢</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span> <span class="c1">//æ¸…é™¤ä¸€ä¸ªçŸ©å½¢èŒƒå›´å†…çš„æ‰€æœ‰ç»˜å›¾</span>
</code></pre></div></div>

<h2 id="3-ç»˜åˆ¶æ–‡æœ¬">3. ç»˜åˆ¶æ–‡æœ¬</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ç»˜åˆ¶æ–‡æœ¬</span>
<span class="kd">let</span> <span class="nx">ctx4</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">c4</span><span class="dl">'</span><span class="p">).</span><span class="nx">getContext</span><span class="p">(</span><span class="dl">'</span><span class="s1">2d</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">ctx4</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#080</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">ctx4</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#008</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">ctx4</span><span class="p">.</span><span class="nx">strokeRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">80</span><span class="p">);</span>

<span class="nx">ctx4</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">30px sans-serif</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// è®¾ç½®å­—ä½“ä¸å¤§å°</span>
<span class="nx">ctx4</span><span class="p">.</span><span class="nx">textBaseline</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">bottom</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// bottom alphabetic æ–‡æœ¬åŸºçº¿ï¼ˆå‚ç›´å¯¹é½æ–¹å¼ï¼‰</span>
<span class="nx">ctx4</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="dl">'</span><span class="s1">hello, tom</span><span class="dl">'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span> <span class="c1">// åœ¨(x,y)åæ ‡ä½ç½®å¡«å……ä¸€æ®µæ–‡æœ¬</span>

<span class="nx">ctx4</span><span class="p">.</span><span class="nx">textBaseline</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">top</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">ctx4</span><span class="p">.</span><span class="nx">strokeText</span><span class="p">(</span><span class="dl">'</span><span class="s1">China</span><span class="dl">'</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span> <span class="c1">// åœ¨(x,y)ä½ç½®æè¾¹ä¸€æ®µæ–‡æœ¬</span>
<span class="kd">let</span> <span class="nx">info</span> <span class="o">=</span> <span class="nx">ctx4</span><span class="p">.</span><span class="nx">measureText</span><span class="p">(</span><span class="dl">'</span><span class="s1">good morning</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// æµ‹é‡æ–‡æœ¬å®½åº¦ï¼Œè¿”å›å¯¹è±¡ï½›width: xï½</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">info</span><span class="p">.</span><span class="nx">width</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="4-æ¸å˜å¯¹è±¡">4. æ¸å˜å¯¹è±¡</h2>

<ul>
  <li>çº¿æ€§æ¸å˜: <code class="highlighter-rouge">linearGradient</code>
    <ul>
      <li>è®¾ç½®æ¸å˜å¯¹è±¡</li>
      <li>è®¾ç½®é¢œè‰²ç‚¹</li>
      <li>å°†æ¸å˜å¯¹è±¡åº”ç”¨å¡«å……æˆ–æè¾¹æ ·å¼</li>
      <li>ç”»çŸ©å½¢/æ–‡æœ¬</li>
    </ul>
  </li>
  <li>å¾„å‘æ¸å˜: <code class="highlighter-rouge">radialGradient</code></li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">ctx7</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">c7</span><span class="dl">'</span><span class="p">).</span><span class="nx">getContext</span><span class="p">(</span><span class="dl">'</span><span class="s1">2d</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// åˆ›å»ºæ¸å˜å¯¹è±¡(x1,y1, x2, y2)</span>
<span class="kd">let</span> <span class="nx">g</span> <span class="o">=</span> <span class="nx">ctx7</span><span class="p">.</span><span class="nx">createLinearGradient</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>

<span class="c1">// è®¾ç½®é¢œè‰²ç‚¹</span>
<span class="nx">g</span><span class="p">.</span><span class="nx">addColorStop</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="dl">'</span><span class="s1">#008</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">g</span><span class="p">.</span><span class="nx">addColorStop</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="dl">'</span><span class="s1">#f00</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">g</span><span class="p">.</span><span class="nx">addColorStop</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="dl">'</span><span class="s1">#080</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// å°†è¯¥æ¸å˜å¯¹è±¡è®¾ç½®ä¸ºç”»ç¬”å¡«å……æ ·å¼</span>
<span class="nx">ctx7</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">g</span><span class="p">;</span>

<span class="nx">ctx7</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span> 
</code></pre></div></div>

<h2 id="5-ç»˜åˆ¶è·¯å¾„">5. ç»˜åˆ¶è·¯å¾„</h2>

<p><code class="highlighter-rouge">Path</code>: ç”±å¤šä¸ªåæ ‡ç‚¹ç»„æˆä»»æ„å½¢çŠ¶ï¼Œè·¯å¾„æœ¬èº«ä¸å¯è§ï¼Œå¯æè¾¹ã€å¡«å……ã€è£å‰ªã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">ctx9</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">c9</span><span class="dl">'</span><span class="p">).</span><span class="nx">getContext</span><span class="p">(</span><span class="dl">'</span><span class="s1">2d</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">ctx9</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span> <span class="c1">// å¼€å§‹è·¯å¾„</span>
<span class="nx">ctx9</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// ç§»åŠ¨åˆ°æŒ‡å®šç‚¹(x,y)</span>
<span class="nx">ctx9</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// ä»å½“å‰ç‚¹åˆ°æŒ‡å®šç‚¹ç»˜åˆ¶ä¸€æ¡çº¿æ®µ</span>
<span class="nx">ctx9</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="mi">110</span><span class="p">);</span>
<span class="nx">ctx9</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">110</span><span class="p">);</span>
<span class="nx">ctx9</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span> <span class="c1">// é—­åˆè·¯å¾„</span>

<span class="nx">ctx9</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span> <span class="c1">// ç»˜åˆ¶åœ†æ‹±å½¢è·¯å¾„(x,y,r, startArc, endArc)</span>
<span class="nx">ctx9</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>
<span class="c1">// ctx9.clip(); // å¯¹å½“å‰è·¯å¾„è¿›è¡Œè£å‰ª</span>
</code></pre></div></div>

<h2 id="6-ç»˜åˆ¶å›¾åƒ">6. ç»˜åˆ¶å›¾åƒ</h2>

<p><code class="highlighter-rouge">canvas</code>å±äºå®¢æˆ·ç«¯æŠ€æœ¯ï¼Œå›¾ç‰‡åœ¨æœåŠ¡å™¨ä¸Šï¼Œæ‰€æœ‰çš„æµè§ˆå™¨å¿…é¡»å…ˆä¸‹è½½ï¼Œç­‰å¾…å›¾ç‰‡åŠ è½½æˆåŠŸä»¥åï¼Œå†ç»˜åˆ¶å›¾ç‰‡ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span> <span class="c1">// åˆ›å»ºå›¾ç‰‡å¯¹è±¡</span>
<span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">./img/p3.png</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// åŠ è½½å›¾ç‰‡</span>
<span class="c1">// å›¾ç‰‡åŠ è½½å®Œæˆå¤„ç†äº‹ä»¶</span>
<span class="nx">img</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">img</span><span class="p">.</span><span class="nx">width</span><span class="p">);</span> <span class="c1">// 200</span>
    <span class="nx">ctxa</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="nx">img</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span> <span class="c1">// åŸå¤§å°ç»˜åˆ¶</span>
    <span class="nx">ctxa</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span><span class="nx">img</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span> <span class="c1">// æ‹‰ä¼¸ç»˜åˆ¶</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="7-å¼‚æ­¥åŠ è½½å¤šå¼ å›¾ç‰‡">7. å¼‚æ­¥åŠ è½½å¤šå¼ å›¾ç‰‡</h2>

<p><code class="highlighter-rouge">Canvas</code>é—®é¢˜ï¼š<code class="highlighter-rouge">Ajax</code>å¼‚æ­¥åŠ è½½ï¼Œæ— æ³•é¢„æµ‹åŠ è½½å®Œæˆé¡ºåºã€‚</p>

<p>å¼‚æ­¥å’ŒåŒæ­¥æ˜¯ç½‘ç»œä¸­ç¨‹åºå·¥ä½œæ–¹å¼:</p>

<ul>
  <li>åŒæ­¥ï¼šæœ‰åºï¼Œï¼ˆå‰ç«¯å·¥ä½œ åç«¯ç­‰å¾…ï¼‰ ä¸ï¼ˆå‰ç«¯ç­‰å¾… åç«¯å·¥ä½œï¼‰</li>
  <li>å¼‚æ­¥ï¼šæ— åºï¼Œå‰åç«¯éƒ½åœ¨å·¥ä½œï¼Œä¸ç›¸äº’ç­‰å¾…</li>
</ul>

<p>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æ•´å‹æ•°å­—ï¼Œé€šè¿‡è®¡ç®—å®Œæˆå›¾ç‰‡åŠ è½½ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">progress</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">img1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
<span class="nx">img1</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">1.png</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">img1</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="p">()</span><span class="o">=&gt;</span><span class="p">{</span>
    <span class="nx">progress</span><span class="o">+=</span><span class="mi">50</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">progress</span> <span class="o">==</span> <span class="mi">100</span><span class="p">)</span> <span class="nx">draw</span><span class="p">();</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">img2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
<span class="nx">img2</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">2.png</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">img2</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="p">()</span><span class="o">=&gt;</span><span class="p">{</span>
    <span class="nx">progress</span><span class="o">+=</span><span class="mi">50</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">progress</span> <span class="o">==</span> <span class="mi">100</span><span class="p">)</span> <span class="nx">draw</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="8-å›¾å½¢å˜æ¢æ“ä½œ">8. å›¾å½¢å˜æ¢æ“ä½œ</h2>

<p><code class="highlighter-rouge">canvas</code>å¯ä»¥å¯¹ä¸€ä¸ªå›¾åƒ/å›¾å½¢åœ¨ç»˜åˆ¶è¿‡ç¨‹ä¸­è¿›è¡Œå˜æ¢ï¼Œæ—‹è½¬ã€å¹³ç§»ï¼›æ—‹è½¬ä¸å¹³ç§»éƒ½å…·æœ‰ç´¯åŠ æ•ˆæœã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ctx</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">angle</span><span class="p">);</span> <span class="c1">//æ—‹è½¬ç»˜å›¾å¯¹è±¡ï¼Œæ—‹è½¬ä¸­å¿ƒæ˜¯ç”»å¸ƒåŸç‚¹ï¼ˆ0ï¼Œ0ï¼‰</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">);</span> <span class="c1">//å°†æ•´ä¸ªç”»å¸ƒçš„åŸç‚¹å¹³ç§»åˆ°æŒ‡å®šä½ç½®</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span> <span class="c1">//ä¿å­˜ç”»ç¬”çš„æ‰€æœ‰å˜æ¢çŠ¶æ€å€¼</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span> <span class="c1">//æ¢å¤ç”»å¸ƒå˜æ¢çŠ¶æ€å€¼åˆ°æœ€è¿‘ä¸€æ¬¡ä¿å­˜å€¼</span>
</code></pre></div></div>

<h1 id="äº”svgç»˜å›¾">äº”ã€SVGç»˜å›¾</h1>

<table>
  <thead>
    <tr>
      <th>Â </th>
      <th>canvasç»˜å›¾</th>
      <th>svgç»˜å›¾</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ç±»å‹</td>
      <td><code class="highlighter-rouge">2D</code>ä½å›¾</td>
      <td><code class="highlighter-rouge">2D</code>çŸ¢é‡å›¾</td>
    </tr>
    <tr>
      <td>å¦‚ä½•ç»˜å›¾</td>
      <td>ä½¿ç”¨<code class="highlighter-rouge">JS</code>ä»£ç ç»˜å›¾</td>
      <td>ä½¿ç”¨æ ‡ç­¾ç»˜å›¾</td>
    </tr>
    <tr>
      <td>äº‹ä»¶ç»‘å®š</td>
      <td>æ¯ä¸ªå›¾å½¢ä¸æ˜¯å…ƒç´ ï¼Œä¸èƒ½ç›´æ¥ç»‘å®šäº‹ä»¶</td>
      <td>æ¯ä¸ªå›¾å½¢éƒ½æ˜¯å…ƒç´ ï¼Œå¯ä»¥ç›´æ¥ç»‘å®šäº‹ä»¶</td>
    </tr>
    <tr>
      <td>åº”ç”¨åœºåˆ</td>
      <td>æ¸¸æˆï¼Œç‰¹æ•ˆ</td>
      <td>åœ°å›¾ï¼Œå›¾æ ‡</td>
    </tr>
  </tbody>
</table>

<p><code class="highlighter-rouge">SVG</code>è¯ç”Ÿäº2000å¹´ï¼Œæ—©æœŸä½œä¸º<code class="highlighter-rouge">XML</code>çš„æ‰©å±•åº”ç”¨ï¼Œ<code class="highlighter-rouge">H5</code>æ ‡å‡†å°†å¸¸ç”¨çš„<code class="highlighter-rouge">SVG</code>æ ‡ç­¾é‡‡çº³ä¸ºæ ‡å‡†ã€‚</p>

<ul>
  <li><code class="highlighter-rouge">SVG</code>æŠ€æœ¯åœ¨<code class="highlighter-rouge">H5</code>ä¹‹å‰ä½¿ç”¨æ–¹æ³•
    <ul>
      <li>åœ¨ä¸€ä¸ª<code class="highlighter-rouge">XML</code>æ–‡æ¡£å£°æ˜ç»˜åˆ¶å›¾å½¢</li>
      <li>å†ç¼–å†™<code class="highlighter-rouge">HTML</code>æ–‡æ¡£ï¼Œä½¿ç”¨<code class="highlighter-rouge">IMG/OBJECT</code>åº”ç”¨</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">SVG</code>æŠ€æœ¯åœ¨<code class="highlighter-rouge">H5</code>å‡ºç°ä¹‹åä½¿ç”¨æ–¹æ³•
    <ul>
      <li>ç›´æ¥åœ¨<code class="highlighter-rouge">H5</code>æ–‡æ¡£ä¸­ä½¿ç”¨<code class="highlighter-rouge">SVG</code>æ ‡å‡†</li>
    </ul>
  </li>
</ul>

<p><code class="highlighter-rouge">&lt;svg&gt;&lt;/svg&gt;</code>æœ¬èº«æ˜¯ä¸€ä¸ªé»˜è®¤<code class="highlighter-rouge">300*150</code>çš„<code class="highlighter-rouge">inline-block</code>ï¼Œå¯ä»¥ç»˜åˆ¶
<code class="highlighter-rouge">&lt;rect&gt;</code>çŸ©å½¢ï¼Œ<code class="highlighter-rouge">&lt;circle&gt;</code>åœ†å½¢ï¼Œ<code class="highlighter-rouge">&lt;ellipse&gt;</code>æ¤­åœ†ï¼Œ<code class="highlighter-rouge">&lt;line&gt;</code>ç›´çº¿ï¼Œ<code class="highlighter-rouge">&lt;polyline&gt;</code>æŠ˜çº¿ï¼Œ<code class="highlighter-rouge">&lt;polygon&gt;</code>å¤šè¾¹å½¢ï¼Œ<code class="highlighter-rouge">&lt;text&gt;</code>æ–‡æœ¬ï¼Œå›¾åƒ</p>

<p><code class="highlighter-rouge">&lt;g&gt;</code>åˆ†ç»„æ ‡ç­¾ï¼Œå†…éƒ¨å¯ä»¥å«æœ‰å¤šä¸ªå›¾å½¢æ ‡ç­¾ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å®ƒä¸Šé¢æŒ‡å®šå…±æœ‰å±æ€§å€¼ã€‚</p>

<p>ç»˜åˆ¶å¤æ‚å›¾å½¢ï¼šè´å¡å°”æ›²çº¿ï¼Œè·¯å¾„ï¼ˆ<code class="highlighter-rouge">path</code>ï¼‰ã€‚</p>

<h2 id="1ç»˜åˆ¶çŸ©å½¢">1.ç»˜åˆ¶çŸ©å½¢</h2>

<p><code class="highlighter-rouge">&lt;rect&gt;&lt;/rect&gt;</code>ï¼Œå±æ€§åŒ…æ‹¬ï¼š</p>

<ul>
  <li><code class="highlighter-rouge">width</code></li>
  <li><code class="highlighter-rouge">height</code></li>
  <li><code class="highlighter-rouge">x</code></li>
  <li><code class="highlighter-rouge">y</code></li>
  <li><code class="highlighter-rouge">fill</code></li>
  <li><code class="highlighter-rouge">fill-opacity</code></li>
  <li><code class="highlighter-rouge">stroke</code></li>
  <li><code class="highlighter-rouge">stroke-width</code></li>
  <li><code class="highlighter-rouge">stroke-opacity</code></li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;svg</span> <span class="na">id=</span><span class="s">"s1"</span> <span class="na">width=</span><span class="s">"600"</span> <span class="na">height=</span><span class="s">"400"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;rect</span> <span class="na">width=</span><span class="s">"100"</span> <span class="na">height=</span><span class="s">"100"</span><span class="nt">&gt;&lt;/rect&gt;</span>
    <span class="nt">&lt;rect</span> <span class="na">width=</span><span class="s">"100"</span> <span class="na">height=</span><span class="s">"100"</span> <span class="na">x=</span><span class="s">"400"</span> <span class="na">y=</span><span class="s">"0"</span> <span class="na">stroke=</span><span class="s">"#088"</span> <span class="na">stroke-width=</span><span class="s">"3"</span> <span class="na">fill=</span><span class="s">"transparent"</span><span class="nt">&gt;&lt;/rect&gt;</span>
    <span class="nt">&lt;rect</span> <span class="na">width=</span><span class="s">"100"</span> <span class="na">height=</span><span class="s">"100"</span> <span class="na">x=</span><span class="s">"0"</span> <span class="na">y=</span><span class="s">"300"</span> <span class="na">fill=</span><span class="s">"#f00"</span> <span class="na">fill-opacity=</span><span class="s">"0.5"</span><span class="nt">&gt;&lt;/rect&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div></div>

<h2 id="2-ç»˜åˆ¶åœ†å½¢">2. ç»˜åˆ¶åœ†å½¢</h2>

<p><code class="highlighter-rouge">&lt;circle&gt;&lt;/circle&gt;</code>ï¼Œå±æ€§åŒ…æ‹¬:</p>

<ul>
  <li><code class="highlighter-rouge">cx</code></li>
  <li><code class="highlighter-rouge">cy</code></li>
  <li><code class="highlighter-rouge">r</code></li>
  <li><code class="highlighter-rouge">fill</code></li>
  <li><code class="highlighter-rouge">fill-opacity</code></li>
  <li><code class="highlighter-rouge">stroke</code></li>
  <li><code class="highlighter-rouge">stroke-opacity</code></li>
</ul>

<h2 id="3-ç»˜åˆ¶æ¤­åœ†">3. ç»˜åˆ¶æ¤­åœ†</h2>

<p><code class="highlighter-rouge">&lt;cllipse cx="" cy="" rx="" ry=""&gt;&lt;/ellipse&gt;</code></p>

<p><code class="highlighter-rouge">rx</code>: æ°´å¹³åŠå¾„
<code class="highlighter-rouge">ry</code>: å‚ç›´åŠå¾„</p>

<h2 id="4-ç»˜åˆ¶ç›´çº¿">4. ç»˜åˆ¶ç›´çº¿</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;g</span> <span class="na">stroke=</span><span class="s">"#222"</span> <span class="na">stroke-width=</span><span class="s">"8"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;line</span> <span class="na">x1=</span><span class="s">"60"</span> <span class="na">y1=</span><span class="s">"200"</span> <span class="na">x2=</span><span class="s">"70"</span> <span class="na">y2=</span><span class="s">"200"</span> <span class="nt">&gt;&lt;/line&gt;</span>
    <span class="nt">&lt;line</span> <span class="na">x1=</span><span class="s">"60"</span> <span class="na">y1=</span><span class="s">"220"</span> <span class="na">x2=</span><span class="s">"70"</span> <span class="na">y2=</span><span class="s">"220"</span> <span class="nt">&gt;&lt;/line&gt;</span>
    <span class="nt">&lt;line</span> <span class="na">x1=</span><span class="s">"60"</span> <span class="na">y1=</span><span class="s">"240"</span> <span class="na">x2=</span><span class="s">"70"</span> <span class="na">y2=</span><span class="s">"240"</span> <span class="nt">&gt;&lt;/line&gt;</span>
    <span class="nt">&lt;line</span> <span class="na">x1=</span><span class="s">"85"</span> <span class="na">y1=</span><span class="s">"200"</span> <span class="na">x2=</span><span class="s">"140"</span> <span class="na">y2=</span><span class="s">"200"</span> <span class="nt">&gt;&lt;/line&gt;</span>
    <span class="nt">&lt;line</span> <span class="na">x1=</span><span class="s">"85"</span> <span class="na">y1=</span><span class="s">"220"</span> <span class="na">x2=</span><span class="s">"140"</span> <span class="na">y2=</span><span class="s">"220"</span> <span class="nt">&gt;&lt;/line&gt;</span>
    <span class="nt">&lt;line</span> <span class="na">x1=</span><span class="s">"85"</span> <span class="na">y1=</span><span class="s">"240"</span> <span class="na">x2=</span><span class="s">"140"</span> <span class="na">y2=</span><span class="s">"240"</span> <span class="nt">&gt;&lt;/line&gt;</span>
<span class="nt">&lt;/g&gt;</span>
</code></pre></div></div>

<h2 id="5-ç»˜åˆ¶æŠ˜çº¿">5. ç»˜åˆ¶æŠ˜çº¿</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;polyline</span> <span class="na">points=</span><span class="s">"50,50 100,50 100,100 50,100"</span> 
<span class="na">fill=</span><span class="s">"transparent"</span> <span class="na">stroke=</span><span class="s">"#444"</span> <span class="na">stroke-width=</span><span class="s">"2"</span><span class="nt">&gt;&lt;/polyline&gt;</span>
</code></pre></div></div>

<h2 id="6-ç»˜åˆ¶å¤šè¾¹å½¢">6. ç»˜åˆ¶å¤šè¾¹å½¢</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;polyline</span> <span class="na">points=</span><span class="s">"100,100 115,150 77,120 123,120 85,150 100,100"</span> 
<span class="na">fill=</span><span class="s">"#080"</span> <span class="na">stroke=</span><span class="s">"#008"</span> <span class="na">stroke-width=</span><span class="s">"2"</span><span class="nt">&gt;&lt;/polyline&gt;</span>
</code></pre></div></div>

<h2 id="7-ç»˜åˆ¶æ–‡æœ¬">7. ç»˜åˆ¶æ–‡æœ¬</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;text</span> <span class="na">font-size=</span><span class="s">"48"</span> <span class="na">fill=</span><span class="s">"#088"</span> <span class="na">stroke=</span><span class="s">"#f00"</span> 
<span class="na">x=</span><span class="s">"50"</span> <span class="na">y=</span><span class="s">"50"</span> <span class="na">alignment-baseline=</span><span class="s">"before-edge"</span><span class="nt">&gt;</span>
hello,æ±‰å­—
<span class="nt">&lt;/text&gt;</span>
</code></pre></div></div>

<h2 id="8-ç»˜åˆ¶å›¾åƒ">8. ç»˜åˆ¶å›¾åƒ</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;image</span> <span class="na">xlink:href=</span><span class="s">"./img/play.png"</span> 
<span class="na">width=</span><span class="s">"300"</span> <span class="na">height=</span><span class="s">"200"</span> <span class="na">x=</span><span class="s">"150"</span> <span class="na">y=</span><span class="s">"100"</span><span class="nt">&gt;&lt;/image&gt;</span>
</code></pre></div></div>

<h2 id="9-æ¸å˜å¯¹è±¡">9. æ¸å˜å¯¹è±¡</h2>

<p>ä½¿ç”¨<code class="highlighter-rouge">linearGradient</code>æ ‡ç­¾ï¼Œå®šä¹‰<code class="highlighter-rouge">id</code>ï¼Œå¹¶ä½¿ç”¨ï¼›å®ƒå±äºç‰¹æ•ˆï¼Œæ”¾åœ¨<code class="highlighter-rouge">defs</code>æ ‡ç­¾å†…ã€‚</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;svg</span> <span class="na">id=</span><span class="s">"se"</span> <span class="na">width=</span><span class="s">"600"</span> <span class="na">height=</span><span class="s">"400"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;defs&gt;</span>
        <span class="nt">&lt;linearGradient</span> <span class="na">id=</span><span class="s">"ge"</span> <span class="na">x1=</span><span class="s">"0%"</span> <span class="na">y1=</span><span class="s">"0%"</span> <span class="na">x2=</span><span class="s">"100%"</span> <span class="na">y2=</span><span class="s">"100%"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;stop</span> <span class="na">offset=</span><span class="s">"0%"</span> <span class="na">style=</span><span class="s">"stop-color:rgb(255,255,0);stop-opacity:1"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;stop</span> <span class="na">offset=</span><span class="s">"100%"</span> <span class="na">style=</span><span class="s">"stop-color:rgb(255,0,0);stop-opacity:1"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/linearGradient&gt;</span>
    <span class="nt">&lt;/defs&gt;</span>
    <span class="nt">&lt;rect</span> <span class="na">x=</span><span class="s">"0"</span> <span class="na">y=</span><span class="s">"0"</span> <span class="na">width=</span><span class="s">"300"</span> <span class="na">height=</span><span class="s">"200"</span> <span class="na">fill=</span><span class="s">"url(#ge)"</span> <span class="nt">&gt;&lt;/rect&gt;</span>
    <span class="nt">&lt;circle</span> <span class="na">cx=</span><span class="s">"100"</span> <span class="na">cy=</span><span class="s">"100"</span> <span class="na">r=</span><span class="s">"50"</span> <span class="na">fill=</span><span class="s">"url(#ge)"</span><span class="nt">&gt;&lt;/circle&gt;</span>
    <span class="nt">&lt;text</span> <span class="na">font-size=</span><span class="s">"60"</span> <span class="na">x=</span><span class="s">"0"</span> <span class="na">y=</span><span class="s">"300"</span> <span class="na">fill=</span><span class="s">"url(#ge)"</span><span class="nt">&gt;</span>å¿«ä¹æ¯ä¸€å¤©<span class="nt">&lt;/text&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div></div>

<h2 id="10-æ»¤é•œ">10. æ»¤é•œ</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;svg</span> <span class="na">id=</span><span class="s">"sg"</span> <span class="na">width=</span><span class="s">"600"</span> <span class="na">height=</span><span class="s">"400"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;defs&gt;</span>
        <span class="nt">&lt;filter</span> <span class="na">id=</span><span class="s">"sf1"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;feGaussianBlur</span> <span class="na">stdDeviation=</span><span class="s">"3"</span><span class="nt">&gt;&lt;/feGaussianBlur&gt;</span>
        <span class="nt">&lt;/filter&gt;</span>            
    <span class="nt">&lt;/defs&gt;</span>
    <span class="nt">&lt;circle</span> <span class="na">cx=</span><span class="s">"150"</span> <span class="na">cy=</span><span class="s">"150"</span> <span class="na">r=</span><span class="s">"50"</span> <span class="na">fill=</span><span class="s">"#f40"</span> <span class="na">filter=</span><span class="s">"url(#sf1)"</span><span class="nt">&gt;&lt;/circle&gt;</span>
    <span class="nt">&lt;circle</span> <span class="na">cx=</span><span class="s">"150"</span> <span class="na">cy=</span><span class="s">"300"</span> <span class="na">r=</span><span class="s">"50"</span> <span class="na">fill=</span><span class="s">"#f40"</span><span class="nt">&gt;&lt;/circle&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</code></pre></div></div>

<h2 id="ç¬¬ä¸‰æ–¹åº“">ç¬¬ä¸‰æ–¹åº“</h2>

<p>ä½¿ç”¨<code class="highlighter-rouge">canvas</code>/<code class="highlighter-rouge">svg</code>/<code class="highlighter-rouge">webGL</code>ï¼Œä¸€äº›ç¬¬ä¸‰æ–¹åº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®ŒæˆæŸäº›åŠŸèƒ½ï¼Œå¦‚:</p>

<ul>
  <li><code class="highlighter-rouge">tow.js</code>ï¼Œä¸€ä¸ª2Dç»˜å›¾å‡½æ•°åº“ï¼Œæä¾›äº†ä¸€å¥—<code class="highlighter-rouge">API</code>ï¼Œå¯ä»¥ç”¨äºç»˜åˆ¶å„ç§å›¾å½¢ï¼ˆ<code class="highlighter-rouge">canvas</code>/<code class="highlighter-rouge">svg</code>/<code class="highlighter-rouge">webGL</code>ï¼‰ã€‚</li>
  <li><code class="highlighter-rouge">echarts.js</code>ï¼Œç™¾åº¦å¼€å‘ï¼Œå¯¹åœ°å›¾æ”¯æŒæ¯”è¾ƒå¥½</li>
  <li><code class="highlighter-rouge">animate.css</code></li>
  <li><code class="highlighter-rouge">three.js</code></li>
  <li><code class="highlighter-rouge">d3.js</code></li>
</ul>

<h1 id="å…­åœ°ç†å®šä½">å…­ã€åœ°ç†å®šä½</h1>

<p><code class="highlighter-rouge">Geolocation</code>: åœ°ç†å®šä½ï¼Œä½¿ç”¨<code class="highlighter-rouge">JS</code>è·å–å½“å‰æµè§ˆå™¨æ‰€åœ¨åœ°ç†åæ ‡ï¼ˆç»åº¦ã€çº¬åº¦ã€æµ·æ‹”ã€é€Ÿåº¦ï¼‰æ•°æ®ç”¨äºå®ç°åº”ç”¨ï¼Œå¦‚é¥¿äº†ä¹ˆã€é«˜å¾·å¯¼èˆªã€‚</p>

<p>æ‰‹æœºæµè§ˆå™¨å¦‚ä½•è·å–å®šä½ä¿¡æ¯ï¼ˆåº”ç”¨è¾ƒå¤šï¼‰</p>

<ul>
  <li>é¦–é€‰æ‰‹æœºä¸­<code class="highlighter-rouge">GPS</code>èŠ¯ç‰‡ä¸å«æ˜Ÿé€šä¿¡ï¼Œå®šä½ç²¾åº¦åœ¨ç±³</li>
  <li>æ¬¡é€‰æ‰‹æœºé€šä¿¡åŸºç«™è¿›è¡Œå®šä½è·å–ï¼Œå®šä½ç²¾åº¦ä½ï¼ˆå…¬é‡Œï¼‰</li>
</ul>

<p><code class="highlighter-rouge">PC</code>æµè§ˆå™¨å¦‚ä½•è·å–å®šä½ä¿¡æ¯</p>

<ul>
  <li>é€šè¿‡<code class="highlighter-rouge">IP</code>åœ°å€è¿›è¡Œåå‘è§£æï¼Œå®šä½ç²¾åº¦å–å†³äº<code class="highlighter-rouge">IP</code>åº“ï¼Œé€šå¸¸è¯¯å·®å¤§</li>
</ul>

<h2 id="ä½¿ç”¨navigatorgeolocation">ä½¿ç”¨navigator.geolocation</h2>

<p><code class="highlighter-rouge">H5</code>ä¸­æä¾›äº†ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œç”¨äºè·å–å½“å‰æµè§ˆå™¨å®šä½ä¿¡æ¯ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">getCurrentPosition</span><span class="p">,</span> <span class="c1">// è·å–å®šä½ä¿¡æ¯</span>
    <span class="nx">watchPosition</span><span class="p">,</span> <span class="c1">// ç›‘å¬å®šä½æ•°æ®çš„æ”¹å˜</span>
    <span class="nx">clearWatch</span> <span class="c1">// å»é™¤ç›‘å¬</span>
<span class="p">};</span>
</code></pre></div></div>

<p>ä½†æ˜¯è¿™ä¸ªåŠŸèƒ½å¹¶ä¸å®ç”¨ï¼Œæ¯”å¦‚åœ¨<code class="highlighter-rouge">chrome</code>æµè§ˆå™¨ä¸­ä¼šæ”¶åˆ°<code class="highlighter-rouge">Network location provider at 'https://www.googleapis.com/' : No response received.</code>é”™è¯¯ï¼Œæ— æ³•è·å¾—æœ‰æ•ˆçš„å®šä½ä¿¡æ¯ã€‚</p>

<h2 id="ä½¿ç”¨ç™¾åº¦åœ°å›¾">ä½¿ç”¨ç™¾åº¦åœ°å›¾</h2>

<ul>
  <li>æ³¨å†Œç™¾åº¦å¼€å‘è€…è´¦æˆ·</li>
  <li>åˆ›å»ºä¸€ä¸ªç½‘ç«™ï¼Œç™»å½•ç™¾åº¦åœ°å›¾ï¼Œä¸ºè¯¥ç½‘ç«™ç”³è¯·<code class="highlighter-rouge">AccessKey</code></li>
  <li>åœ¨è‡ªå·±çš„ç½‘é¡µä¸­åµŒå…¥ç™¾åº¦åœ°å›¾æä¾›çš„<code class="highlighter-rouge">API</code></li>
</ul>

<h1 id="ä¸ƒæ‹–æ”¾api">ä¸ƒã€æ‹–æ”¾API</h1>

<p><code class="highlighter-rouge">Drag and Drop</code>,æ‹–åŠ¨å’Œé‡Šæ”¾ï¼Œ<code class="highlighter-rouge">H5</code>æä¾›äº†7ä¸ªäº‹ä»¶ã€‚</p>

<p>æ‹–åŠ¨æºå¯¹è±¡ï¼ˆä¼šç§»åŠ¨ï¼‰ï¼Œä¼šè§¦å‘çš„äº‹ä»¶:</p>

<ul>
  <li><code class="highlighter-rouge">dragstart</code></li>
  <li><code class="highlighter-rouge">drag</code></li>
  <li><code class="highlighter-rouge">dragend</code></li>
</ul>

<p>æ‹–åŠ¨çš„ç›®æ ‡å¯¹è±¡ï¼Œä¼šè§¦å‘çš„äº‹ä»¶:</p>

<ul>
  <li><code class="highlighter-rouge">dragenter</code></li>
  <li><code class="highlighter-rouge">dragover</code></li>
  <li><code class="highlighter-rouge">dragleave</code></li>
  <li><code class="highlighter-rouge">drop</code></li>
</ul>

<p>æ‹–åŠ¨æ•´ä½“è¿‡ç¨‹ï¼š</p>

<ul>
  <li><code class="highlighter-rouge">dragenter*1 + dragover*n + drageleave*1</code></li>
  <li><code class="highlighter-rouge">dragenter*1 + dragover*n + drop*1</code></li>
</ul>

<p>å¿…é¡»é˜»æ­¢<code class="highlighter-rouge">dragover</code>çš„é»˜è®¤è¡Œä¸ºï¼ˆä¸€æ—¦æ‚¬åœç«‹å³ç¦»å¼€ï¼‰</p>

<h1 id="å…«webworker">å…«ã€WebWorker</h1>

<ul>
  <li>è¿›ç¨‹ï¼šæ“ä½œç³»ç»Ÿåˆ†é…å†…å­˜çš„å•ä½ï¼ˆå·¥å‚ï¼‰</li>
  <li>çº¿ç¨‹ï¼šå¤„ç†è¿›ç¨‹å†…éƒ¨ï¼Œç”¨äºæ‰§è¡Œä»£ç ï¼ˆç”Ÿäº§çº¿ï¼‰</li>
  <li>çº¿ç¨‹å¹¶å‘ï¼šæ“ä½œç³»ç»Ÿä¸­æ‰€æœ‰çš„çº¿ç¨‹å®è§‚ä¸Šçœ‹â€œåŒæ—¶æ‰§è¡Œâ€ï¼Œå¾®è§‚ä¸Šçœ‹æ˜¯â€œä¾æ¬¡äº¤æ›¿æ‰§è¡Œâ€</li>
</ul>

<h2 id="å•çº¿ç¨‹çš„é—®é¢˜">å•çº¿ç¨‹çš„é—®é¢˜</h2>

<p><code class="highlighter-rouge">chrome</code>ä¸­çº¿ç¨‹çš„æ¨¡å‹ï¼šè¯·æ±‚èµ„æºï¼Œ6ä¸ªçº¿ç¨‹ï¼›è¿è¡Œä»£ç ã€æ¸²æŸ“å†…å®¹ï¼Œ1ä¸ªçº¿ç¨‹ã€‚</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button&gt;</span>æŒ‰é’®ä¸€<span class="nt">&lt;/button&gt;</span>
<span class="c">&lt;!-- ä¸‹é¢è¿™ä¸ªjsæ‰§è¡Œå¾ˆé•¿æ—¶é—´çš„è¯ï¼Œä¼šå¯¼è‡´é¡µé¢é˜»å¡ --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"./js/1.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;button&gt;</span>æŒ‰é’®äºŒ<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div>

<h2 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h2>

<ol>
  <li>å°†æ‰€æœ‰çš„<code class="highlighter-rouge">js</code>ç¨‹åºçš„æ‰§è¡Œæ”¾åœ¨<code class="highlighter-rouge">&lt;/body&gt;</code>å‰ï¼Œä½œä¸ºæœ€åä¸€ä¸ªå…ƒç´ </li>
  <li>åˆ›å»ºæ–°çš„çº¿ç¨‹ï¼Œç”±å®ƒæ¥æ‰§è¡Œè€—æ—¶çš„<code class="highlighter-rouge">js</code>ä»»åŠ¡ï¼Œ<code class="highlighter-rouge">UI</code>çš„ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œåç»­çš„<code class="highlighter-rouge">HTML</code>çš„æ¸²æŸ“</li>
</ol>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">w</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="dl">'</span><span class="s1">./js/1.js</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="ç¼ºé™·">ç¼ºé™·</h2>

<p>æµè§ˆå™¨ä¸å…è®¸<code class="highlighter-rouge">Worker</code>çº¿ç¨‹æ“ä½œ<code class="highlighter-rouge">DOM</code>/<code class="highlighter-rouge">BOM</code>å…ƒç´ çš„æ“ä½œã€‚</p>

<p>åŸå› ï¼šæµè§ˆå™¨åªå…è®¸<code class="highlighter-rouge">UI</code>ä¸»çº¿ç¨‹æ“ä½œ<code class="highlighter-rouge">DOM</code>/<code class="highlighter-rouge">BOM</code>ï¼Œè‹¥å¤šä¸ª<code class="highlighter-rouge">Worker</code>çº¿ç¨‹åŒæ—¶æ“ä½œ<code class="highlighter-rouge">DOM</code>ç»“æ„çš„è¯ï¼Œä¼šé€ æˆé¡µé¢çš„æ··ä¹±ã€‚</p>

<h2 id="æ•°æ®ä¼ è¾“">æ•°æ®ä¼ è¾“</h2>

<p><code class="highlighter-rouge">Worker</code>çº¿ç¨‹å¯ä»¥ç»™<code class="highlighter-rouge">UI</code>ä¸»çº¿ç¨‹å‘é€æ•°æ®</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// UIä¸»çº¿ç¨‹</span>
<span class="kd">let</span> <span class="nx">w</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="dl">'</span><span class="s1">1.js</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">w</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">};</span>

<span class="c1">// Workerçº¿ç¨‹</span>
<span class="nx">postMessage</span><span class="p">(</span><span class="nx">StringMsg</span><span class="p">);</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">UI</code>ä¸»çº¿ç¨‹ä¹Ÿå¯ä»¥ç»™<code class="highlighter-rouge">Worker</code>çº¿ç¨‹å‘é€æ•°æ®</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// UIä¸»çº¿ç¨‹</span>
<span class="kd">let</span> <span class="nx">w</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Worker</span><span class="p">(</span><span class="dl">'</span><span class="s1">1.js</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">w</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">stringMsg</span><span class="p">);</span>

<span class="c1">// Workerçº¿ç¨‹</span>
<span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">};</span>
</code></pre></div></div>

<h1 id="ä¹web-storage">ä¹ã€Web Storage</h1>

<p>åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨å½“å‰ç”¨æˆ·ä¸“ç”¨çš„æ•°æ®ï¼šè®¿é—®å†å²ã€è´­ç‰©è½¦ã€å†…å®¹å®šåˆ¶ã€æ ·å¼å®šåˆ¶â€¦</p>

<h2 id="å®¢æˆ·ç«¯å­˜å‚¨æŠ€æœ¯">å®¢æˆ·ç«¯å­˜å‚¨æŠ€æœ¯</h2>

<ul>
  <li><code class="highlighter-rouge">Cookie</code>æŠ€æœ¯ï¼›æµè§ˆå™¨å…¼å®¹æ€§å¥½ï¼Œä¸€ä¸ª<code class="highlighter-rouge">Cookie</code>ä¸èƒ½è¶…è¿‡4KBï¼Œè€æµè§ˆå™¨å¯¹<code class="highlighter-rouge">Cookie</code>ä¸ªæ•°ä¹Ÿæœ‰é™åˆ¶ï¼ˆ&lt;=30ï¼‰ï¼Œæ“ä½œå¤æ‚</li>
  <li><code class="highlighter-rouge">Flash</code>å­˜å‚¨ï¼šä¾èµ–äº<code class="highlighter-rouge">Flash</code>æ’­æ”¾å™¨ï¼Œç”¨çš„æ¯”è¾ƒå°‘äº†</li>
  <li><code class="highlighter-rouge">H5 WebStorage</code>ï¼šä¸èƒ½è¶…è¿‡8MBï¼ˆæ ‡å‡†ï¼Œå®é™…å¯èƒ½å°å†™ï¼‰ï¼Œæ“ä½œç®€å•ï¼Œæ¯”è¾ƒæ–°</li>
  <li><code class="highlighter-rouge">IndexDB</code>ï¼šå¯å­˜å‚¨å¤§é‡æ•°æ®ï¼Œè¿˜ä¸æ˜¯æ ‡å‡†</li>
</ul>

<h2 id="webstorage">WebStorage</h2>

<p><code class="highlighter-rouge">WebStorage</code>æŠ€æœ¯ä¸­ï¼Œæµè§ˆå™¨ä¸ºç”¨æˆ·æä¾›ä¸¤ä¸ªå¯¹è±¡ï¼š</p>

<h3 id="windowsessionstorage">window.sessionStorage</h3>

<p>ç±»æ•°ç»„å¯¹è±¡ï¼Œä¼šè¯çº§åˆ«æ•°æ®å­˜å‚¨ã€‚æµè§ˆå™¨è¿›ç¨‹æ‰€åˆ†å¾—å†…å­˜ä¸­å­˜å‚¨ä¸€æ¬¡<code class="highlighter-rouge">WEB</code>ä¼šè¯çš„æ•°æ®ï¼Œå¯ä¾›æœ¬æ¬¡ä¼šè¯çš„é¡µé¢å…±åŒä½¿ç”¨ï¼Œæµè§ˆå™¨ä¸€æ—¦å…³é—­å°±æ¶ˆå¤±ã€‚</p>

<p><code class="highlighter-rouge">Session</code>ï¼šä¼šè¯ï¼Œæµè§ˆå™¨ä»æ‰“å¼€æŸä¸ªç½‘ç«™çš„ä¸€ä¸ªé¡µé¢å¼€å§‹ï¼Œä¸­é—´å¯èƒ½æ‰“å¼€å¾ˆå¤šä¸ªé¡µé¢ï¼Œç›´åˆ°å…³é—­æµè§ˆå™¨ï¼Œæ•´ä¸ªè¿‡ç¨‹ç§°ä¸ºæµè§ˆå™¨ä¸<code class="highlighter-rouge">WEB</code>æœåŠ¡å™¨çš„ä¸€æ¬¡ä¼šè¯ã€‚</p>

<p>ä½œç”¨ï¼šåœ¨åŒä¸€ä¸ªä¼šè¯ä¸­æ‰€æœ‰çš„é¡µé¢ä¹‹é—´å…±äº«çš„æ•°æ®ï¼Œä¾‹å¦‚ç™»å½•ç”¨æˆ·å/ç™»å½•ç”¨æˆ·ç¼–å·ï¼ˆé€šå¸¸å­˜ç¼–å·ï¼Œå¦åˆ™ä¸­æ–‡ç”¨æˆ·åå¯èƒ½å¯¼è‡´é”™è¯¯ï¼‰ã€‚</p>

<table>
  <thead>
    <tr>
      <th>æ“ä½œ</th>
      <th>API</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>å­˜æ•°æ®</td>
      <td><code class="highlighter-rouge">sessionStorage[key] = val;</code></td>
    </tr>
    <tr>
      <td>Â </td>
      <td><code class="highlighter-rouge">sessionStorage.setItem(key, val);</code></td>
    </tr>
    <tr>
      <td>è¯»å–æ•°æ®</td>
      <td><code class="highlighter-rouge">let val = sessionStorage[key];</code></td>
    </tr>
    <tr>
      <td>Â </td>
      <td><code class="highlighter-rouge">let val = sessionStorage.getItem(key);</code></td>
    </tr>
    <tr>
      <td>æ¸…é™¤æŒ‡å®šæ•°æ®</td>
      <td><code class="highlighter-rouge">sessionStorage.removeItem(key);</code></td>
    </tr>
    <tr>
      <td>æ¸…ç©ºæ‰€æœ‰æ•°æ®</td>
      <td><code class="highlighter-rouge">sessionStorage.clear();</code></td>
    </tr>
    <tr>
      <td>æ•°æ®ä¸ªæ•°</td>
      <td><code class="highlighter-rouge">let len = sessionStorage.length;</code></td>
    </tr>
    <tr>
      <td>è·å–ç¬¬<code class="highlighter-rouge">i</code>ä¸ª<code class="highlighter-rouge">key</code></td>
      <td><code class="highlighter-rouge">let key = sessionStorage.key[i];</code></td>
    </tr>
  </tbody>
</table>

<h3 id="windowlocalstorage">window.localStorage</h3>

<p>æœ¬åœ°å­˜å‚¨å¯¹è±¡ï¼Œè·¨ä¼šè¯çº§å­˜å‚¨ã€‚åœ¨æµè§ˆå™¨èƒ½ç®¡ç†å¤–å­˜ï¼ˆç£ç›˜ï¼‰ï¼Œå¯åœ¨å…¶ä¸­å­˜å‚¨ç”¨æˆ·æ•°æ®ï¼Œå¯ä¾›æ­¤æ¬¡ä¼šè¯åŠåç»­ä¼šè¯çš„é¡µé¢å…±åŒä½¿ç”¨ï¼›å³ä½¿æµè§ˆå™¨å…³é—­äº†ï¼Œä¹Ÿä¸ä¼šæ¶ˆå¤±ï¼Œæ°¸ä¹…å­˜åœ¨ã€‚</p>

<p>ä½œç”¨ï¼šå­˜å‚¨ç”¨æˆ·æ ·å¼é£æ ¼ï¼ˆæ¯”å¦‚<code class="highlighter-rouge">qq</code>ç©ºé—´ï¼‰</p>

<table>
  <thead>
    <tr>
      <th>æ“ä½œ</th>
      <th>API</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>å­˜æ•°æ®</td>
      <td><code class="highlighter-rouge">localStorage[key] = val;</code></td>
    </tr>
    <tr>
      <td>Â </td>
      <td><code class="highlighter-rouge">localStorage.setItem(key, val);</code></td>
    </tr>
    <tr>
      <td>è¯»å–æ•°æ®</td>
      <td><code class="highlighter-rouge">let val = localStorage[key];</code></td>
    </tr>
    <tr>
      <td>Â </td>
      <td><code class="highlighter-rouge">let val = localStorage.getItem(key);</code></td>
    </tr>
    <tr>
      <td>æ¸…é™¤æŒ‡å®šæ•°æ®</td>
      <td><code class="highlighter-rouge">localStorage.removeItem(key);</code></td>
    </tr>
    <tr>
      <td>æ¸…ç©ºæ‰€æœ‰æ•°æ®</td>
      <td><code class="highlighter-rouge">localStorage.clear();</code></td>
    </tr>
    <tr>
      <td>æ•°æ®ä¸ªæ•°</td>
      <td><code class="highlighter-rouge">let len = localStorage.length;</code></td>
    </tr>
    <tr>
      <td>è·å–ç¬¬iä¸ªkey</td>
      <td><code class="highlighter-rouge">let key = localStorage.key[i];</code></td>
    </tr>
  </tbody>
</table>

<p><code class="highlighter-rouge">localStorage</code>ä¸­è‹¥æ•°æ®å‘ç”Ÿäº†ä¿®æ”¹ï¼Œä¼šè§¦å‘äº‹ä»¶<code class="highlighter-rouge">window.onstorage</code>ï¼Œå¯ä»¥ç›‘å¬äº‹ä»¶ï¼Œå¯ä»¥ç›‘è§†<code class="highlighter-rouge">localStorage</code>æ•°æ®æ”¹å˜ï¼ˆæ³¨æ„<code class="highlighter-rouge">sessionStorage</code>æ²¡æœ‰æ­¤åŠŸèƒ½ï¼›<code class="highlighter-rouge">chrome</code>æµè§ˆå™¨ä¸­ï¼Œè¯¥äº‹ä»¶åªèƒ½è¢«å…¶ä»–é¡µé¢è§¦å‘ï¼Œä¸èƒ½è¢«å½“å‰é¡µé¢è§¦å‘ï¼‰ã€‚</p>

<h1 id="åwebsocket">åã€WebSocket</h1>

<h2 id="httpåè®®">httpåè®®</h2>

<p><code class="highlighter-rouge">HTTP</code>åè®®ï¼Œå±äºâ€œè¯·æ±‚-å“åº”â€æ¨¡å‹ï¼Œåªæœ‰å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚æ¶ˆæ¯ï¼ŒæœåŠ¡å™¨æ‰ä¼šè¿”å›å“åº”æ¶ˆæ¯ï¼Œæ²¡æœ‰è¯·æ±‚å°±æ²¡æœ‰å“åº”ï¼Œä¸€ä¸ªè¯·æ±‚ä¹Ÿåªèƒ½ å¾—åˆ°ä¸€ä¸ªå“åº”ï¼›è¿™åœ¨æœ‰äº›åœºæ™¯ä¸‹å¾ˆä¸æ–¹ä¾¿ï¼ˆå¦‚å®æ—¶èµ°åŠ¿åº”ç”¨ï¼‰ã€‚</p>

<p>è§£å†³æ–¹æ¡ˆï¼šé•¿è½®è¯¢ï¼ˆ<code class="highlighter-rouge">Long-Polling</code>ï¼‰/å¿ƒè·³è¯·æ±‚ï¼Œå®šæ—¶å™¨+<code class="highlighter-rouge">ajax</code>ï¼Œè¯·æ±‚å¤ªé¢‘ç¹ï¼ŒæœåŠ¡å™¨å‹åŠ›å¤§ï¼Œä¸å¤Ÿé¢‘ç¹ï¼Œå®¢æˆ·ç«¯æ•°æ®å»¶è¿Ÿå¤ªå¤§ã€‚</p>

<h2 id="websocketåè®®">WebSocketåè®®</h2>

<p><code class="highlighter-rouge">WebSocket</code>ï¼Œä½œä¸º<code class="highlighter-rouge">HTTP</code>çš„è¡¥å……ï¼Œå±äºâ€œå¹¿æ’­-æ”¶å¬â€æ¨¡å‹ï¼Œå®¢æˆ·ç«¯è¿æ¥åˆ°å°±ä¸å†æ–­å¼€ï¼ŒæŒç»­è¿æ¥ï¼ŒåŒæ–¹éšæ—¶å‘å¯¹æ–¹å‘é€æ¶ˆæ¯ï¼Œä¸”æ˜¯å…¨åŒå·¥ã€ä¸å¯¹ç­‰å‘é€ã€‚</p>

<p><code class="highlighter-rouge">ws</code>åè®®åˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ç¨‹åºã€‚å®¢æˆ·ç«¯åº”ç”¨ä¸»åŠ¨å‘èµ·è¿æ¥è¯·æ±‚ï¼Œä¿æŒè¿æ¥ï¼Œå‘å¯¹æ–¹å‘é€æ¶ˆæ¯ï¼Œå¹¶æ¥æ”¶æ¶ˆæ¯ã€‚å®¢æˆ·ç«¯å¯ä»¥æ˜¯<code class="highlighter-rouge">php</code>ã€<code class="highlighter-rouge">java</code>ã€<code class="highlighter-rouge">nodejs</code>ã€<code class="highlighter-rouge">html5</code>ã€‚</p>

<h2 id="ä½¿ç”¨h5åˆ›å»ºwsåè®®å®¢æˆ·ç«¯åº”ç”¨">ä½¿ç”¨H5åˆ›å»ºwsåè®®å®¢æˆ·ç«¯åº”ç”¨</h2>

<ul>
  <li>è¿æ¥<code class="highlighter-rouge">ws</code>æœåŠ¡å™¨</li>
  <li>å‘æœåŠ¡å™¨å‘é€æ¶ˆæ¯</li>
  <li>æ¥æ”¶æœåŠ¡å™¨å‘æ¥çš„æ¶ˆæ¯</li>
  <li>æ–­å¼€åˆ°<code class="highlighter-rouge">ws</code>æœåŠ¡å™¨çš„è¿æ¥ï¼ˆå¯é€‰ï¼‰</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="dl">'</span><span class="s1">ws://127.0.0.1:9001</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">socket</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</code></pre></div></div>

:ET