I"õ-<h1 id="promise">promise</h1>

<ul>
  <li>ç›®çš„ï¼šè§£å†³å¼‚æ­¥æ“ä½œå¤æ‚æ€§é—®é¢˜</li>
  <li>åŒæ­¥â€”â€”ä¸²è¡Œ    ç®€å•ã€æ–¹ä¾¿</li>
  <li>å¼‚æ­¥â€”â€”å¹¶å‘    æ€§èƒ½é«˜ã€ä½“éªŒå¥½</li>
</ul>

<h2 id="promiseåŸºæœ¬ç”¨æ³•">PromiseåŸºæœ¬ç”¨æ³•</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">let</span> <span class="nx">p</span><span class="o">=</span><span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span>
    <span class="nx">resolve</span><span class="p">();</span>
    <span class="nx">reject</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="c1">// the two function params in then are just resolve and reject</span>
  <span class="nx">p</span><span class="p">.</span><span class="nx">then</span><span class="p">(()</span><span class="o">=&gt;</span><span class="p">{},</span> <span class="p">()</span><span class="o">=&gt;</span><span class="p">{});</span> 
</code></pre></div></div>

<h2 id="promiseallä¸promiserace">Promise.all()ä¸Promise.race()</h2>

<p>è¿™ä¸¤ä¸ªé™æ€æ–¹æ³•å¯ä»¥å®ç°è®©å¤šä¸ªå¼‚æ­¥æ“ä½œæ”¾åœ¨ä¸€èµ·</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span><span class="nx">promise1</span><span class="p">,</span> <span class="nx">promise2</span><span class="p">,</span> <span class="nx">promise3</span><span class="p">])</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">resArr</span> <span class="o">=&gt;</span> <span class="p">{})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">reason</span> <span class="o">=&gt;</span> <span class="p">{});</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">all</code>ï¼Œéœ€è¦æ‰€æœ‰å¼‚æ­¥æ“ä½œæˆåŠŸä»¥åæ‰ç®—æˆåŠŸ</li>
  <li><code class="highlighter-rouge">race</code>ï¼Œåªè¦ä¸€ä¸ªå¼‚æ­¥æ“ä½œæˆåŠŸå°±å¯ä»¥</li>
</ul>

<h2 id="å±€é™">å±€é™</h2>

<p><code class="highlighter-rouge">Promise</code>å¯¹äºæœ‰ä¾èµ–çš„å¼‚æ­¥æ“ä½œåµŒå¥—ä»ç„¶ä¸æ–¹ä¾¿</p>

<h2 id="å¤–è¯">å¤–è¯</h2>

<p><code class="highlighter-rouge">å›è°ƒ</code>å’Œ<code class="highlighter-rouge">è½®è¯¢</code>æ˜¯ä¸€å¯¹æ¦‚å¿µï¼Œå‰è€…æ›´ç®€ä¾¿ä¸èŠ‚çœèµ„æºã€‚</p>

<h1 id="generator">generator</h1>

<p>ä¸€ç§å¯ä»¥ä¸­é€”æš‚åœï¼Œåˆ†æ®µæ‰§è¡Œçš„å‡½æ•°ã€‚</p>

<h2 id="åŸºæœ¬ä½¿ç”¨">åŸºæœ¬ä½¿ç”¨</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="o">*</span> <span class="nx">show</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">);</span>
    <span class="k">yield</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">gen</span> <span class="o">=</span> <span class="nx">show</span><span class="p">();</span>
<span class="nx">gen</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span> <span class="c1">// a</span>
<span class="nx">gen</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span> <span class="c1">// b</span>
</code></pre></div></div>

<h2 id="yieldä¼ å‚ä¸è¿”å›å€¼">yieldä¼ å‚ä¸è¿”å›å€¼</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="o">*</span> <span class="nx">show</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="k">yield</span> <span class="mi">23</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">gen</span> <span class="o">=</span> <span class="nx">show</span><span class="p">();</span>
<span class="kd">let</span> <span class="nx">res1</span> <span class="o">=</span> <span class="nx">gen</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span> <span class="c1">// a</span>
<span class="kd">let</span> <span class="nx">res2</span> <span class="o">=</span> <span class="nx">gen</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="mi">12</span><span class="p">);</span> <span class="c1">// 12</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res1</span><span class="p">);</span> <span class="c1">// {value: 23, done: false} </span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res2</span><span class="p">);</span> <span class="c1">// {value: undefined, done: true}</span>
</code></pre></div></div>

<h2 id="generatorä¸promiseé…åˆ">generatorä¸promiseé…åˆ</h2>

<ul>
  <li>éœ€è¦å¤–æ¥çš„è¾…åŠ©å°è£…æ‰§è¡Œâ€”â€”ä¸ç»Ÿä¸€ã€ä¸æ ‡å‡†ã€æ€§èƒ½ä½</li>
  <li><code class="highlighter-rouge">generator</code>å‡½æ•°ä¸èƒ½å†™æˆ=&gt;</li>
</ul>

<p>å› æ­¤<code class="highlighter-rouge">generator</code>ä½¿ç”¨æ—¶é—´å¾ˆçŸ­ï¼Œæ˜¯<code class="highlighter-rouge">promise</code>å’Œ<code class="highlighter-rouge">async/await</code>çš„è¿‡æ¸¡ï¼Œç°åœ¨å¹¶ä¸å¸¸ç”¨ã€‚</p>

<h1 id="asyncawait">async/await</h1>

<h2 id="åŸºæœ¬ä½¿ç”¨-1">åŸºæœ¬ä½¿ç”¨</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="kd">function</span> <span class="nx">show</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>

    <span class="k">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">((</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="mi">2000</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="p">}</span>

<span class="nx">show</span><span class="p">();</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">await</code>åå¯ä»¥æ”¾<code class="highlighter-rouge">Promise</code>å¯¹è±¡ã€<code class="highlighter-rouge">generator</code>å‡½æ•°ã€<code class="highlighter-rouge">async/await</code>å‡½æ•°ï¼Œå³ä½¿åé¢ä¸æ˜¯åŒæ­¥æ“ä½œï¼Œè¿è¡Œä¹Ÿä¼šæ˜¯å¼‚æ­¥çš„ï¼Œç±»ä¼¼<code class="highlighter-rouge">setTimeout(func, 0)</code>çš„æ•ˆæœã€‚</p>

<h2 id="ç”¨äºajax">ç”¨äºajax</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">(</span><span class="k">async</span> <span class="p">()</span><span class="o">=&gt;</span><span class="p">{</span>
    <span class="kd">let</span> <span class="nx">data1</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span><span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./data/a.json</span><span class="dl">'</span><span class="p">,</span> <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">});</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">data1</span><span class="p">.</span><span class="nx">a</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">){</span>
        <span class="kd">let</span> <span class="nx">data2</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span><span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./data/b.json</span><span class="dl">'</span><span class="p">,</span> <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">});</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
        <span class="kd">let</span> <span class="nx">data3</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span><span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./data/c.json</span><span class="dl">'</span><span class="p">,</span> <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">});</span>
    <span class="p">}</span>
<span class="p">})();</span>
</code></pre></div></div>

<h2 id="é”™è¯¯å¤„ç†">é”™è¯¯å¤„ç†</h2>

<p><code class="highlighter-rouge">try-catch</code></p>

<h1 id="å·¥ç¨‹åŒ–ç›¸å…³">å·¥ç¨‹åŒ–ç›¸å…³</h1>

<ul>
  <li>å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼šå°†ES6ç¼–è¯‘ä¸ºES5ï¼ˆå·¥å…·babelï¼‰</li>
  <li>é—®é¢˜ï¼šè¿™äº›é«˜çº§è¯­æ³•æœ€ç»ˆæ˜¯è¦ç»è¿‡ç¼–è¯‘çš„ï¼Œé‚£ä¹ˆå¦‚æœç›´æ¥ä½¿ç”¨åŸºç¡€çš„è¯­æ³•å†™ï¼Œé¿å…ç¼–è¯‘ï¼Œå¯¹æ€§èƒ½æœ‰æå‡å—ï¼Ÿ
    <ul>
      <li>é¦–å…ˆï¼Œå¯¹äºå‰ç«¯ç¨‹åºï¼Œå„è¯„ä»·æŒ‡æ ‡å¤§è‡´ä¼˜å…ˆçº§æ˜¯ï¼šç”¨æˆ·ä½“éªŒã€å¥å£®æ€§ã€å¯è¯»å¯ç»´æŠ¤å·¥ç¨‹æ€§ã€æ€§èƒ½</li>
      <li>åœ¨æ€§èƒ½æ–¹é¢ï¼Œåˆ†ä¸ºç½‘ç»œæ€§èƒ½å’Œæ‰§è¡Œæ€§èƒ½ï¼Œè€Œå‰è€…çš„å½±å“è¿œå¤§äºåè€…</li>
      <li>ä¸ºæ­¤ä½¿ç”¨é«˜çº§è¯­æ³•æ•´ä½“æ€§èƒ½åè€Œæ›´é«˜äº›ã€‚</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">babel</code>ï¼ŒES6-&gt;ES5ç¼–è¯‘å·¥å…·</li>
  <li><code class="highlighter-rouge">Node</code>
    <ul>
      <li>è¯­è¨€ã€ç¯å¢ƒã€å¹³å°ï¼Œå¼€å‘ä¸­çš„ä¸­é—´å±‚</li>
      <li>webåå°(å°è§„æ¨¡)</li>
      <li>å·¥å…·(grunt,gulpç­‰éƒ½æ˜¯åŸºäºå®ƒçš„)</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">npm</code>ï¼ŒnodeåŒ…ç®¡ç†(node package manager)
    <ul>
      <li>è‡ªåŠ¨ä¸‹è½½ã€å‡çº§</li>
      <li>è‡ªåŠ¨ä¸‹è½½ä¾èµ–åŒ…</li>
      <li>npmåŸç‰ˆæ…¢ï¼Œcnpmæ·˜å®æºï¼šhttp://npm.taobao.org/</li>
    </ul>
  </li>
</ul>

:ET